
#!/bin/bash -ex
echo Port 443 >>/etc/ssh/sshd_config
systemctl restart sshd 

###### jenkins 
yum install -y java
wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo
rpm -import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key
yum install -y jenkins
systemctl start jenkins

######  chef
wget https://packages.chef.io/files/stable/chefdk/4.3.13/el/8/chefdk-4.3.13-1.el7.x86_64.rpm
rpm -Uvh chefdk-4.3.13-1.el7.x86_64.rpm

###### code deploy
yum install -y ruby
yum install -y wget
wget https://aws-codedeploy-us-east-1.s3.us-east-1.amazonaws.com/latest/install
chmod +x ./install
./install auto
systemctl status codedeploy-agent


#### terraform
wget https://releases.hashicorp.com/terraform/0.12.9/terraform_0.12.9_linux_amd64.zip
unzip terraform_0.12.9_linux_amd64.zip
mv terraform /bin


### docker
sudo amazon-linux-extras install docker
sudo systemctl start docker
sudo usermod -a -G docker ec2-user
reboot






